<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts Visualization</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.0/dist/echarts.min.js"></script>
</head>
<body>
    <!-- Container for Bar Chart -->
    <div id="barChart" style="width: 600px;height:400px;"></div>
    <!-- Container for Pie Chart -->
    <div id="pieChart" style="width: 600px;height:400px;"></div>
    <!-- Container for Line Chart -->
    <div id="lineChart" style="width: 600px;height:400px;"></div>

    <script>
        // Mock Data: Replace this with actual backend data
        const institutions = [
            'Massachusetts Institute of Technology (MIT)',
            'Imperial College London',
            'University of Oxford',
            'Harvard University',
            'University of Cambridge'
        ];
        const scores = [100.0, 98.5, 96.9, 96.8, 96.7];
        const locations = ['Americas', 'Europe', 'Europe', 'Americas', 'Europe'];
        const rankings = [1, 2, 3, 4, 5];

        // ----- Bar Chart -----
        var barChart = echarts.init(document.getElementById('barChart'));
        var barOption = {
            title: { text: 'Top Institutions by Overall Score' },
            xAxis: {
                type: 'category',
                data: institutions
            },
            yAxis: { type: 'value' },
            series: [{
                data: scores,
                type: 'bar'
            }]
        };
        barChart.setOption(barOption);

        // ----- Pie Chart -----
        var pieChart = echarts.init(document.getElementById('pieChart'));
        var locationCounts = {};
        locations.forEach(loc => locationCounts[loc] = (locationCounts[loc] || 0) + 1);

        var pieData = Object.keys(locationCounts).map(loc => ({
            name: loc,
            value: locationCounts[loc]
        }));

        var pieOption = {
            title: { text: 'Institution Distribution by Location' },
            series: [{
                type: 'pie',
                data: pieData
            }]
        };
        pieChart.setOption(pieOption);

        // ----- Line Chart -----
        var lineChart = echarts.init(document.getElementById('lineChart'));
        var lineOption = {
            title: { text: 'Top Institutions: Rank vs Score' },
            xAxis: {
                type: 'category',
                data: rankings.map(r => 'Rank ' + r)
            },
            yAxis: { type: 'value', name: 'Score' },
            series: [{
                data: scores,
                type: 'line',
                smooth: true
            }]
        };
        lineChart.setOption(lineOption);
    </script>
</body>
</html>
